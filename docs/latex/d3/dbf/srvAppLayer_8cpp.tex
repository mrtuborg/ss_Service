\hypertarget{srvAppLayer_8cpp}{
\section{src/srvAppLayer/srvAppLayer.cpp File Reference}
\label{d3/dbf/srvAppLayer_8cpp}\index{src/srvAppLayer/srvAppLayer.cpp@{src/srvAppLayer/srvAppLayer.cpp}}
}


Class \hyperlink{classsrvAppLayer}{srvAppLayer} implementation.  


{\ttfamily \#include $<$stdio.h$>$}\par
{\ttfamily \#include $<$unistd.h$>$}\par
{\ttfamily \#include $<$string.h$>$}\par
{\ttfamily \#include $<$pthread.h$>$}\par
{\ttfamily \#include $<$netinet/in.h$>$}\par
{\ttfamily \#include $<$arpa/inet.h$>$}\par
{\ttfamily \#include $<$iostream$>$}\par
{\ttfamily \#include $<$queue$>$}\par
{\ttfamily \#include \char`\"{}../../rcsLib/ortsTypes/ortsTypes.h\char`\"{}}\par
{\ttfamily \#include \char`\"{}../../rcsLib/rcsCmd/rcsCmd.h\char`\"{}}\par
{\ttfamily \#include \char`\"{}../global.h\char`\"{}}\par
{\ttfamily \#include \char`\"{}../buffer/ssBuffer.h\char`\"{}}\par
{\ttfamily \#include \char`\"{}../../udp\_\-port/udp\_\-port.h\char`\"{}}\par
{\ttfamily \#include \char`\"{}../deqUdp/deqUdp.h\char`\"{}}\par
{\ttfamily \#include \char`\"{}functionNode/param\_\-desc.h\char`\"{}}\par
{\ttfamily \#include \char`\"{}functionNode/functionNode.h\char`\"{}}\par
{\ttfamily \#include \char`\"{}srvAppLayer.h\char`\"{}}\par
{\ttfamily \#include \char`\"{}../functions/commonFuncsMgr.h\char`\"{}}\par
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void $\ast$ \hyperlink{srvAppLayer_8cpp_a7eaf60b2d51988d305e9c8a4f7497b83}{udpSenderThread} (void $\ast$user)
\begin{DoxyCompactList}\small\item\em Thread to sending data to clients from functions answer queue. \item\end{DoxyCompactList}\item 
void $\ast$ \hyperlink{srvAppLayer_8cpp_a730236a494d356798212190aae12f103}{udpListenerThread} (void $\ast$user)
\begin{DoxyCompactList}\small\item\em Thread to listening requests from clients and form queue of clients requests. \item\end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
bool \hyperlink{srvAppLayer_8cpp_a868aa504f87bc9ec6698801f8af012de}{rcvComplete\_\-flag} = false
\begin{DoxyCompactList}\small\item\em todo msc diagramm \item\end{DoxyCompactList}\item 
bool \hyperlink{srvAppLayer_8cpp_aada7bb79c19dd0f402f03860c1fd64f6}{sndAllow\_\-flag} = false
\begin{DoxyCompactList}\small\item\em todo msc diagramm \item\end{DoxyCompactList}\item 
\hyperlink{classsrvAppLayer}{srvAppLayer} $\ast$ \hyperlink{srvAppLayer_8cpp_a4dd6be941c7608c4cc8b8e141b2dbabf}{app}
\begin{DoxyCompactList}\small\item\em One global instance per application. \item\end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
Class \hyperlink{classsrvAppLayer}{srvAppLayer} implementation. \begin{DoxyAuthor}{Author}
Vladimir A. Nosenko (\href{mailto:nosenko@ieee.org}{\tt nosenko@ieee.org}) 
\end{DoxyAuthor}
\begin{DoxyDate}{Date}
December, 2010
\end{DoxyDate}
Copyright (c) 2010 Vladimir A.Nosenko.

The license and distribution terms for this file may be found in the file LICENSE in this distribution 

Definition in file \hyperlink{srvAppLayer_8cpp_source}{srvAppLayer.cpp}.



\subsection{Function Documentation}
\hypertarget{srvAppLayer_8cpp_a7eaf60b2d51988d305e9c8a4f7497b83}{
\index{srvAppLayer.cpp@{srvAppLayer.cpp}!udpSenderThread@{udpSenderThread}}
\index{udpSenderThread@{udpSenderThread}!srvAppLayer.cpp@{srvAppLayer.cpp}}
\subsubsection[{udpSenderThread}]{\setlength{\rightskip}{0pt plus 5cm}void$\ast$ udpSenderThread (
\begin{DoxyParamCaption}
\item[{void $\ast$}]{ user}
\end{DoxyParamCaption}
)}}
\label{d3/dbf/srvAppLayer_8cpp_a7eaf60b2d51988d305e9c8a4f7497b83}


Thread to sending data to clients from functions answer queue. 

Thread also includes work with port opening, initializing and closing. 

Definition at line 50 of file srvAppLayer.cpp.



References srvAppLayer::functionsAnswersQueue, deqUdp::sendData(), sndAllow\_\-flag, srvAppLayer::terminate(), srvAppLayer::terminated(), and wUdp.



Referenced by srvAppLayer::StartListening().



Here is the call graph for this function:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=400pt]{d3/dbf/srvAppLayer_8cpp_a7eaf60b2d51988d305e9c8a4f7497b83_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=400pt]{d3/dbf/srvAppLayer_8cpp_a7eaf60b2d51988d305e9c8a4f7497b83_icgraph}
\end{center}
\end{figure}


\hypertarget{srvAppLayer_8cpp_a730236a494d356798212190aae12f103}{
\index{srvAppLayer.cpp@{srvAppLayer.cpp}!udpListenerThread@{udpListenerThread}}
\index{udpListenerThread@{udpListenerThread}!srvAppLayer.cpp@{srvAppLayer.cpp}}
\subsubsection[{udpListenerThread}]{\setlength{\rightskip}{0pt plus 5cm}void$\ast$ udpListenerThread (
\begin{DoxyParamCaption}
\item[{void $\ast$}]{ user}
\end{DoxyParamCaption}
)}}
\label{d3/dbf/srvAppLayer_8cpp_a730236a494d356798212190aae12f103}


Thread to listening requests from clients and form queue of clients requests. 

Thread also includes work with port opening, initializing and closing. 

Definition at line 102 of file srvAppLayer.cpp.



References srvAppLayer::clientsRequestsQueue, srvAppLayer::getListenerPortNum(), rcvComplete\_\-flag, deqUdp::readData(), srvAppLayer::terminate(), srvAppLayer::terminated(), and wUdp.



Referenced by srvAppLayer::StartListening().



Here is the call graph for this function:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=400pt]{d3/dbf/srvAppLayer_8cpp_a730236a494d356798212190aae12f103_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=400pt]{d3/dbf/srvAppLayer_8cpp_a730236a494d356798212190aae12f103_icgraph}
\end{center}
\end{figure}




\subsection{Variable Documentation}
\hypertarget{srvAppLayer_8cpp_a868aa504f87bc9ec6698801f8af012de}{
\index{srvAppLayer.cpp@{srvAppLayer.cpp}!rcvComplete\_\-flag@{rcvComplete\_\-flag}}
\index{rcvComplete\_\-flag@{rcvComplete\_\-flag}!srvAppLayer.cpp@{srvAppLayer.cpp}}
\subsubsection[{rcvComplete\_\-flag}]{\setlength{\rightskip}{0pt plus 5cm}bool {\bf rcvComplete\_\-flag} = false}}
\label{d3/dbf/srvAppLayer_8cpp_a868aa504f87bc9ec6698801f8af012de}


todo msc diagramm 

Flag purpose: synchronize state between receiving clients requests thread and reading for received data 

Definition at line 39 of file srvAppLayer.cpp.



Referenced by srvAppLayer::ProcessMessages(), and udpListenerThread().

\hypertarget{srvAppLayer_8cpp_aada7bb79c19dd0f402f03860c1fd64f6}{
\index{srvAppLayer.cpp@{srvAppLayer.cpp}!sndAllow\_\-flag@{sndAllow\_\-flag}}
\index{sndAllow\_\-flag@{sndAllow\_\-flag}!srvAppLayer.cpp@{srvAppLayer.cpp}}
\subsubsection[{sndAllow\_\-flag}]{\setlength{\rightskip}{0pt plus 5cm}bool {\bf sndAllow\_\-flag} = false}}
\label{d3/dbf/srvAppLayer_8cpp_aada7bb79c19dd0f402f03860c1fd64f6}


todo msc diagramm 

Flag purpose: synchronize state between sending clients answers thread and preparing sending data 

Definition at line 41 of file srvAppLayer.cpp.



Referenced by srvAppLayer::ProcessMessages(), and udpSenderThread().

\hypertarget{srvAppLayer_8cpp_a4dd6be941c7608c4cc8b8e141b2dbabf}{
\index{srvAppLayer.cpp@{srvAppLayer.cpp}!app@{app}}
\index{app@{app}!srvAppLayer.cpp@{srvAppLayer.cpp}}
\subsubsection[{app}]{\setlength{\rightskip}{0pt plus 5cm}{\bf srvAppLayer}$\ast$ {\bf app}}}
\label{d3/dbf/srvAppLayer_8cpp_a4dd6be941c7608c4cc8b8e141b2dbabf}


One global instance per application. 



Definition at line 43 of file srvAppLayer.cpp.



Referenced by appDeinit(), appInit(), equipListenPolling(), and main().

